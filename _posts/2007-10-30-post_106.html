---
layout: post
title: "携帯へメールを送る際の確認事項"
---
{% raw %}
<p>harukiです。</p>
<p>
ケータイ宛にメールを送信するサイトにおける確認事項をまとめてみました。
</p>

<h3>サーバ側</h3>
<h4>DNS</h4>
<ul>
<li>IPアドレスが逆引きできるようになっているか</li>
<li>SPFレコードが正しく設定されているか</li>
</ul>
<p>SPFは、2007年11月1日からDoCoMoも対応します。</p>
<p>
<a href="http://www.nttdocomo.co.jp/service/mail/imode_mail/sender_id/index.html">http://www.nttdocomo.co.jp/service/mail/imode_mail/sender_id/index.html</a>
</p>

<h4>MTA</h4>
<ul>
<li>EHLO/HELOコマンドでのドメイン名が正しいか</li>
<li>エンベロープFrom/Toは正しいか</li>
</ul>

<h4>その他</h4>
<ul>
<li>Fromフィールドのドメインが正しいか<br />
  (Aレコード、MXレコードが存在しているドメインか)
</li>
<li>Return-Pathは設定しているか</li>
<li>端末で表示できる文字コード・形式で送っているか</li>
</ul>
<p>
あとは、OP25B(Outbound Port 25 Blocking)に該当する場合は、その確認も必要になります。
</p>
<p>メールログを確認すれば、だいたいの原因は判明します。</li>

<h3>端末側</h3>
<p>「メールが届かない」といった類の問い合わせに対応するためには、届かないケースを運営側が把握しておく必要があります。</p>

<ul>
<li>容量がいっぱいになっていないか</li>
<li>拒否設定にひっかかっていないか
<p>
  メール設定を確認
</p>
<p>
  (エラーメールを返さない設定をしていないかを確認)
</p>
<p>
  拒否設定の変更をしている場合、念のため、拒否→解除と再度行ってみると効果がある場合もあります。
</p>
</li>
</ul>
<p>
各キャリアのメール設定へ行くことができるページを用意してあげることも効果的です。
</p>
<p>&nbsp;</p>

<p>
新しくサービスを始める場合、機能追加の際などに、設定・確認もれのないように気をつけましょう。
</p>
{% endraw %}
